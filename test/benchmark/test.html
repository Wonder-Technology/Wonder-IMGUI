<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>benchmark</title>
</head>

<body>

    <canvas id="aaa" width=900 height=500></canvas>

    <script src="../../dist/wdimgui.js"></script>



    <script>
        window.onload = function () {

            var canvas = document.querySelector("#aaa");

            var gl = canvas.getContext("webgl");

            var image1 = new Image();

            image1.src = "./1.jpg";
            image1.onload = () => {
                var image2 = new Image();

                image2.src = "./1.png";
                image2.onload = () => {

                    // var texture1 = gl.createTexture();
                    // gl.bindTexture(gl.TEXTURE_2D, texture1);

                    // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image1);


                    // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);


                    // var texture2 = gl.createTexture();
                    // gl.bindTexture(gl.TEXTURE_2D, texture2);

                    // gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, image2);


                    // gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);




                    var record = wdimgui.createRecord();




                    var record =
                        wdimgui.addFont(
                            "../res/font/myFont.fnt",
                            "../res/font/myFont.png",
                            record
                        );



                    var recordForLoop = null;

                    function step(timestamp) {
                        var record = recordForLoop;

                        gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);


                        record = wdimgui.render(gl, record);


                        window.requestAnimationFrame(step);
                    }

                    wdimgui.load(
                        [
                            ["./1.jpg", "a1"],
                            ["./1.png", "a2"],
                        ],
                        record)
                        .then((record) => {
                            var record = wdimgui.setIMGUIFunc(null, (_, apiJsObj, record) => {
                                var label = apiJsObj.label;
                                var image = apiJsObj.image;
                                var record = label(
                                    [20, 20, 300, 100], "ab", 1, record
                                );



                                var record = image(
                                    [50, 150, 50, 100], [0, 0, 1, 1], "a1", record
                                );


                                var record = image(
                                    [200, 300, 100, 100], [0, 0, 1, 1], "a2", record
                                );


                                var record = label(
                                    [20, 150, 300, 100], "c", 1, record
                                );

                                var record = image(
                                    [500, 300, 100, 100], [0, 0, 1, 1], "a2", record
                                );




                                return record
                            }, record);


                            var record = wdimgui.init(gl, [canvas.width, canvas.height], record);


                            gl.clearColor(0, 1, 1, 1);

                            recordForLoop = record;


                            window.requestAnimationFrame(step);
                        })






                };
            }


        };
    </script>
</body>

</html>